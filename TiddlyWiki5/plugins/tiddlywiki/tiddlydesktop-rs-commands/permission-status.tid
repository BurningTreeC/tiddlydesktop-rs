title: $:/plugins/tiddlywiki/tiddlydesktop-rs-commands/permission-status
tags: $:/tags/Macro

\define tiddlydesktop-command-permission-status()
<$list filter="[[$:/temp/TiddlyDesktop/CommandPermission]get[status]match[granted]]">

@@color:green;✓ Command execution is enabled for this wiki.@@

</$list>
<$list filter="[[$:/temp/TiddlyDesktop/CommandPermission]get[status]match[denied]]">

@@color:orange;⚠ Command execution permission was denied.@@

<$button>
<$action-setfield $tiddler="$:/temp/TiddlyDesktop/CommandPermission" status="pending"/>
Request Permission Again
</$button>

</$list>
<$list filter="[[$:/temp/TiddlyDesktop/CommandPermission]get[status]match[pending]]">

@@color:blue;⏳ Requesting command execution permission...@@

</$list>
<$list filter="[[$:/temp/TiddlyDesktop/CommandPermission]!has[status]]">

@@color:gray;Command execution status unknown. This wiki may not be running in TiddlyDesktop-RS.@@

</$list>
\end
